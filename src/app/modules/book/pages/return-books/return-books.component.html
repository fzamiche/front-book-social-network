<h2>My returned books</h2>
<div *ngIf="message"
     class="alert"
     [ngClass]="{'alert-success': isSuccessReturn , 'alert-danger': !isSuccessReturn}">
  {{ message }}
</div>
<div>
  <table class="table">
    <thead>
    <tr>
      <th scope="col">NÂ°</th>
      <th scope="col">Title</th>
      <th scope="col">Author</th>
      <th scope="col">ISBN</th>
      <th scope="col">Rate</th>
      <th scope="col"><i class="fas fa-cogs"></i></th>
    </tr>
    </thead>

    <tbody>
    <tr *ngFor="let book of returnedBooks.content; let index = index">
      <th scope="row">{{ index + 1 }}</th>
      <td>{{ book.title }}</td>
      <td>{{ book.authorName }}</td>
      <td>{{ book.isbn }}</td>
      <td>
        <div class="d-flex gap-2">
          <app-rating [rating]="book.rate || 0"></app-rating>
          <span *ngIf="book.rate || 0 > 0" class="fw-bold">
            {{ book.rate }}
          </span>
        </div>
      </td>
      <td>
        <div class="d-flex gap-2">
          <i (click)="approuveReturnBorrowedBook(book)"
             [class.text-success]="!book.returnApproved"
             class="cursor-pointer fa-solid fa-circle-check"></i>
        </div>
      </td>
    </tr>
    </tbody>

  </table>

  <div class="d-flex justify-content-center mt-3">
    <app-pagination
      [page]="page"
      [totalPages]="returnedBooks.totalPages"
      [first]="returnedBooks.first"
      [last]="returnedBooks.last"
      (pageChange)="onPageChange($event)"
    ></app-pagination>
  </div>
</div>
